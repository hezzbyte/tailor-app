<!-- Wappler include framework7_4="local" -->
<template>

<div class="page">
        <div class="navbar">
          <div class="navbar-inner">
            <div class="left">
              <a href="#" class="link icon-only panel-open navlnk" data-panel="left">
                <i class="icon f7-icons if-not-md">menu</i>
                <i class="icon material-icons md-only">menu</i>
              </a>
            </div>
		<div class="title">Blog Categories</div>

	  <div class="right">
          <a class="link icon-only">
            <i class="icon f7-icons if-not-md">person_round_fill</i>
            <i class="icon material-icons md-only">person</i>
          </a>
          <a class="link icon-only">
            <i class="icon f7-icons if-not-md">email<span class="badge color-red">5</span></i>
            <i class="icon material-icons md-only">email<span class="badge color-red">5</span></i>
          </a>
        </div>


          </div>
        </div>



    <div class="page-content">
      <div class="list">
 {{#if categories}}
        <ul>
      
          {{#each categories}}         
		  <li>
            <div class="item-content">
              <div class="item-media"><i class="icon icon-f7"></i></div>
              <div class="item-inner">
                <div class="item-title"><a href="/posts/{{this.id}}/">{{this.catname}}</a></div>
                <div class="item-after"><span class="badge">0</span></div>
              </div>
            </div>
          </li>
         {{/each}}
        </ul>
       
{{else}}
      <!-- Otherwise show preloader -->
      <div class="block block-strong text-align-center">
	  <br>
	  <br>
	  <br>
        <div class="preloader"></div>
	  <br>
	  <br>
	  <br>
      </div>
{{/if}}	 		 
      </div>
    </div>
</template>
<script>
  return {
    data: function () {
      return {
        categories: null,
      }
    },
    on: {
      pageInit: function () {
        var self = this;
		var url = mainURL + '?request=blogcat';
        var app = self.$app;
        app.request.get(url, function (data)  {
		console.log(data);
		data = JSON.parse(data); 
		console.log(data);
			
			self.$setState({
			  categories: data.categories,
			});
		  });
     },
    },
  };
</script>



